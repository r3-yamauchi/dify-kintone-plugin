identity:
  name: kintone_query
  author: r3-yamauchi
  label:
    en_US: kintone Query
    zh_Hans: kintone Query
    ja_JP: kintone クエリ
    pt_BR: kintone Query
description:
  human:
    en_US: Query records from kintone app
    zh_Hans: Query records from kintone app
    ja_JP: kintoneアプリからレコードを検索
    pt_BR: Query records from kintone app
  llm: Query records from kintone app
parameters:
  - name: kintone_domain
    type: string
    required: false
    label:
      en_US: "kintone Domain"
      ja_JP: "kintone ドメイン"
    human_description:
      en_US: "Example: your-subdomain.cybozu.com or https://your-subdomain.cybozu.com. If left blank, the value from provider settings is used."
      ja_JP: "例: your-subdomain.cybozu.com または https://your-subdomain.cybozu.com。未入力の場合はプロバイダー設定で入力した値が使用されます。"
    llm_description: kintone domain where the app is hosted
    placeholder:
      en_US: "your-subdomain.cybozu.com"
      ja_JP: "your-subdomain.cybozu.com"
    form: llm

  - name: kintone_app_id
    type: string
    required: true
    label:
      en_US: "kintone App ID"
      ja_JP: "kintone アプリID"
    human_description:
      en_US: "The ID of your kintone application. Accepts either a number or a numeric string; must represent a positive integer."
      ja_JP: "対象アプリのアプリID"
    llm_description: "ID of the kintone app to query (number or numeric string); must be a positive integer."
    form: llm

  - name: kintone_api_token
    type: secret-input
    required: false
    label:
      en_US: "kintone API Token"
      ja_JP: "対象の kintoneアプリの APIトークン"
    human_description:
      en_US: "API token issued from the target kintone app with record view permission. If left blank, the value from provider settings is used."
      ja_JP: "対象のkintoneアプリで発行した、レコード閲覧権限を付与したAPIトークン。未入力の場合はプロバイダー設定で入力した値が使用されます。"
    llm_description: API token with view permissions for the kintone app
    form: llm

  - name: query
    type: string
    required: false
    label:
      en_US: Query string
      zh_Hans: 查询语句
      ja_JP: kintoneへ渡すquery文字列
      pt_BR: Query string
    human_description:
      en_US: "Keyword or text to search in kintone"
      zh_Hans: "Keyword or text to search in kintone"
      ja_JP: "kintoneへ渡すquery文字列"
      pt_BR: "Keyword or text to search in kintone"
    llm_description: Query string to filter records in kintone query format
    form: llm

  - name: fields
    type: string
    required: false
    label:
      en_US: "Fields to retrieve"
      ja_JP: "取得するフィールド"
    human_description:
      en_US: "Comma-separated list of field names to retrieve from kintone (e.g., field1,field2,field3)"
      ja_JP: "kintoneから取得するフィールド名をカンマ区切りで指定（例: フィールド1,フィールド2,フィールド3）"
    llm_description: "Comma-separated list of field names to retrieve from kintone records"
    form: llm
  - name: output_mode
    type: select
    required: false
    default: both
    label:
      en_US: Output mode
      ja_JP: 出力モード
    human_description:
      en_US: "Choose 'text_only', 'json_stream', 'flattened_json', or 'both' (default) to control how the tool returns results."
      ja_JP: "結果の出力形式を「テキスト + JSON」,「テキストのみ」,「JSONをページごとに即時返却」,「フラット化したJSON」から選択します。"
    llm_description: "Set to text_only, json_stream, flattened_json, or both (default) to control output format."
    form: llm
    options:
      - value: both
        label:
          en_US: Text + JSON
          ja_JP: テキスト + JSON
      - value: text_only
        label:
          en_US: Text only
          ja_JP: テキストのみ
      - value: json_stream
        label:
          en_US: JSON only (stream)
          ja_JP: JSON only (stream)
      - value: flattened_json
        label:
          en_US: Flattened JSON
          ja_JP: フラット化したJSON
  - name: request_timeout
    type: number
    required: false
    default: 30
    label:
      en_US: "Request Timeout (seconds)"
      ja_JP: "リクエストタイムアウト（秒）"
    human_description:
      en_US: "Timeout in seconds for each kintone API request. Default is 30 seconds."
      ja_JP: "kintone APIリクエストのタイムアウト秒数。既定値は30秒です。"
    llm_description: "Timeout in seconds for each API call; defaults to 30."
    form: llm
extra:
  python:
    source: tools/kintone_query.py
